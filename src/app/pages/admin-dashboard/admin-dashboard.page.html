
<ion-content>

  <ion-header>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css" rel="stylesheet">
    <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@900&amp;display=swap" rel="stylesheet">
    <link href="https://coopeere.microcampos.com.br/assets/datatables/dataTables.bootstrap4.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fork-awesome@1.2.0/css/fork-awesome.min.css" integrity="sha256-XoaMnoYC5TH6/+ihMEnospgm0J1PM/nioxbOUdnM8HY=" crossorigin="anonymous">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.10/jquery.mask.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,200;0,300;0,400;0,600;0,700;0,800;0,900;1,200;1,300;1,400;1,600;1,700;1,800;1,900&amp;display=swap" rel="stylesheet">
    <script src="../home/ionic-modified.js"></script>
    <nav class="navbar navbar-expand-lg">
      <div class="container flex-col sm:flex-row">
        <a class="navbar-brand" href="/">
          <img class="pb-2" src="../../../../assets/images-coopeere/coopere.png" alt="Coopeere">
 
        </a>

        
        <button (click)="addUser()">Add User</button>
        <button (click)="addAdmin()">Add Admin</button>
      </div>
    </nav>
  </ion-header>

  
  <ion-content>

   

    <table>
      <tr>
        <th>Nome</th>
        <th>Email</th>
        <th>Telefone</th>
        <th>CPF</th>
        <th>Role</th>
        <th>Actions</th>
      </tr>
      <tr *ngFor="let user of users; let i = index">
        <td>{{ user.name }}</td>
        <td>{{ user.email }}</td>
        <td>{{ user.phone }}</td>
        <td>{{ user.cpfCnpj }}</td>
        <td>{{ user.role }}</td>
        <td>
          <button (click)="selectUser(user)">Visualizar</button>
          <button (click)="editUser(user)">Editar</button>
          <button (click)="deleteUser(i)">Deletar</button>
        </td>
      </tr>
    </table>
    
  

    <!-- Popup -->
<div class="popup-overlay" *ngIf="selectedUser">
  <div class="popup">
    <h2>{{ selectedUser.name }}</h2>
    <p>Email: {{ selectedUser.email }}</p>
    <p>Telefone: {{ selectedUser.phone }}</p>
    <p>CPF: {{ selectedUser.cpfCnpj }}</p>
    <!-- Adicione as demais informações do usuário aqui -->
    <button (click)="closePopup()">Close</button>
  </div>
</div>

  <!-- Popup para adicionar usuário -->
  <div class="popup-overlay" *ngIf="showAddUserPopup">
    <div class="popup">
      <h2>Adicionar Usuário</h2>
      <!-- Adicione os campos necessários para criar um novo usuário -->
      <input type="text" [(ngModel)]="name" placeholder="Nome">
      <input type="email" [(ngModel)]="email" placeholder="Email">
      <input type="tel" [(ngModel)]="phone" placeholder="Telefone">
      <input type="text" [(ngModel)]="cpfCnpj" placeholder="CPF">
      <input type="text" [(ngModel)]="mobilePhone" placeholder="Celular">
      <input type="text" [(ngModel)]="postalCode" placeholder="CEP">
      <input type="text" [(ngModel)]="address" placeholder="Endereço">
      <input type="text" [(ngModel)]="addressNumber" placeholder="Número">
      <input type="text" [(ngModel)]="complement" placeholder="Complemento">
      <input type="text" [(ngModel)]="province" placeholder="Bairro">
      <input type="text" [(ngModel)]="city" placeholder="Cidade">
      <input type="text" [(ngModel)]="state" placeholder="Estado">
      <input type="password" [(ngModel)]="password" placeholder="Senha">


      <!-- Botões para criar o usuário ou fechar o popup -->
      <button (click)="createUser()">Criar</button>
      <button (click)="closeAddUserPopup()">Fechar</button>
    </div>
  </div>


  <!-- Popup para adicionar administrador -->
  <div class="popup-overlay" *ngIf="showAddAdminPopup">
    <div class="popup">
      <h2>Adicionar Admin</h2>
      <!-- Adicione os campos necessários para criar um novo administrador -->
      <input type="text" [(ngModel)]="name" placeholder="Nome">
      <input type="email" [(ngModel)]="email" placeholder="Email">
      <input type="tel" [(ngModel)]="phone" placeholder="Telefone">
      <input type="text" [(ngModel)]="cpfCnpj" placeholder="CPF">
      <input type="text" [(ngModel)]="mobilePhone" placeholder="Celular">
      <input type="text" [(ngModel)]="postalCode" placeholder="CEP">
      <input type="text" [(ngModel)]="address" placeholder="Endereço">
      <input type="text" [(ngModel)]="addressNumber" placeholder="Número">
      <input type="text" [(ngModel)]="complement" placeholder="Complemento">
      <input type="text" [(ngModel)]="province" placeholder="Bairro">
      <input type="text" [(ngModel)]="city" placeholder="Cidade">
      <input type="text" [(ngModel)]="state" placeholder="Estado">
      <input type="password" [(ngModel)]="password" placeholder="Senha">


      <!-- Botões para criar o usuário ou fechar o popup -->
      <button (click)="createAdmin()">Criar</button>
      <button (click)="closeAddAdminPopup()">Fechar</button>
    </div>
  </div>




  <!-- Popup para editar usuário -->
<div class="popup-overlay" *ngIf="showEditUserPopup">
  <div class="popup">
    <h2>Editar Usuário</h2>
    <!-- Adicione os campos necessários para editar o usuário -->
    <input type="text" [(ngModel)]="selectedUser.name" placeholder="Nome">
    <input type="email" [(ngModel)]="selectedUser.email" placeholder="Email">
    <input type="tel" [(ngModel)]="selectedUser.phone" placeholder="Telefone">
    <input type="text" [(ngModel)]="selectedUser.cpfCnpj" placeholder="CPF">
    <input type="text" [(ngModel)]="selectedUser.mobilePhone" placeholder="Celular">
      <input type="text" [(ngModel)]="selectedUser.postalCode" placeholder="CEP">
      <input type="text" [(ngModel)]="selectedUser.address" placeholder="Endereço">
      <input type="text" [(ngModel)]="selectedUser.addressNumber" placeholder="Número">
      <input type="text" [(ngModel)]="selectedUser.complement" placeholder="Complemento">
      <input type="text" [(ngModel)]="selectedUser.province" placeholder="Bairro">
      <input type="text" [(ngModel)]="selectedUser.city" placeholder="Cidade">
      <input type="text" [(ngModel)]="selectedUser.state" placeholder="Estado">
      <input type="password" [(ngModel)]="selectedUser.password" placeholder="Senha">
    <!-- Adicione outros campos de edição conforme necessário -->
    <button (click)="updateUser()">Atualizar</button>
    <button (click)="closeEditUserPopup()">Fechar</button>
  </div>
</div>

</ion-content>